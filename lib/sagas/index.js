var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getNewTracksData=getNewTracksData;exports.getBrowseData=getBrowseData;exports.default=rootSaga;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _effects=require("redux-saga/effects");var _actionTypes=require("../actions/actionTypes");var _constants=require("../constants");var _axios=_interopRequireDefault(require("axios"));var _marked=_regenerator.default.mark(getNewTracksData),_marked2=_regenerator.default.mark(getBrowseData),_marked3=_regenerator.default.mark(newTrackActionWatcher),_marked4=_regenerator.default.mark(browseActionWatcher),_marked5=_regenerator.default.mark(rootSaga);function getNewTracksData(){var response;return _regenerator.default.wrap(function getNewTracksData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _axios.default.get(_constants.BASE_URL+'tracks');case 3:response=_context.sent;_context.next=6;return(0,_effects.put)({type:_actionTypes.RECEIVE_NEW_DATA,payload:response.data});case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);console.error(_context.t0);case 11:case"end":return _context.stop();}}},_marked,null,[[0,8]]);}function getBrowseData(){var response;return _regenerator.default.wrap(function getBrowseData$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _axios.default.get(_constants.BASE_URL+'browse');case 3:response=_context2.sent;_context2.next=6;return(0,_effects.put)({type:_actionTypes.RECEIVE_BROWSE_DATA,payload:response.data});case 6:_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);console.error(_context2.t0);case 11:case"end":return _context2.stop();}}},_marked2,null,[[0,8]]);}function newTrackActionWatcher(){return _regenerator.default.wrap(function newTrackActionWatcher$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(0,_effects.takeLatest)(_actionTypes.GET_NEW_DATA,getNewTracksData);case 2:case"end":return _context3.stop();}}},_marked3);}function browseActionWatcher(){return _regenerator.default.wrap(function browseActionWatcher$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return(0,_effects.takeLatest)(_actionTypes.GET_BROWSE_DATA,getBrowseData);case 2:case"end":return _context4.stop();}}},_marked4);}function rootSaga(){return _regenerator.default.wrap(function rootSaga$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return(0,_effects.all)([newTrackActionWatcher(),browseActionWatcher()]);case 2:case"end":return _context5.stop();}}},_marked5);}
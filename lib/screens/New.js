var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.NewScreen=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _FontAwesome=_interopRequireDefault(require("react-native-vector-icons/FontAwesome5"));var _indicator=_interopRequireDefault(require("../components/indicator"));var _theme=require("../theme");var _reactRedux=require("react-redux");var _actionTypes=require("../actions/actionTypes");var _this=this,_jsxFileName="/Users/ali/Documents/Projects/javascript/AhangifyTest/app/screens/New.js";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var CategoryItem=function CategoryItem(_ref){var item=_ref.item,onPress=_ref.onPress;return _react.default.createElement(_reactNative.TouchableOpacity,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:17,columnNumber:3}},_react.default.createElement(_reactNative.View,{style:(0,_extends2.default)({},styles.vStack),__self:_this,__source:{fileName:_jsxFileName,lineNumber:18,columnNumber:5}},_react.default.createElement(_reactNative.View,{style:(0,_extends2.default)({},styles.hStack,{padding:8}),__self:_this,__source:{fileName:_jsxFileName,lineNumber:19,columnNumber:7}},_react.default.createElement(_reactNative.Image,{style:styles.image,source:{uri:""+item.cover},__self:_this,__source:{fileName:_jsxFileName,lineNumber:20,columnNumber:9}}),_react.default.createElement(_reactNative.View,{style:(0,_extends2.default)({},styles.vStack,styles.item),__self:_this,__source:{fileName:_jsxFileName,lineNumber:26,columnNumber:9}},_react.default.createElement(_reactNative.Text,{style:{fontWeight:'400',fontSize:18},__self:_this,__source:{fileName:_jsxFileName,lineNumber:31,columnNumber:11}},item.performerFa),_react.default.createElement(_reactNative.View,{style:(0,_extends2.default)({},styles.hStack,{alignItems:'center',marginTop:8}),__self:_this,__source:{fileName:_jsxFileName,lineNumber:34,columnNumber:11}},_react.default.createElement(_FontAwesome.default,{name:'heart',color:'red',size:20,solid:true,__self:_this,__source:{fileName:_jsxFileName,lineNumber:35,columnNumber:13}}),_react.default.createElement(_reactNative.Text,{style:{paddingStart:8,fontWeight:'400',fontSize:14},__self:_this,__source:{fileName:_jsxFileName,lineNumber:36,columnNumber:13}},item.like_count))))),_react.default.createElement(_reactNative.View,{style:styles.border,__self:_this,__source:{fileName:_jsxFileName,lineNumber:43,columnNumber:5}}));};var renderCategoryItem=function renderCategoryItem(_ref2){var item=_ref2.item;return _react.default.createElement(CategoryItem,{item:item,onPress:function onPress(){},__self:_this,__source:{fileName:_jsxFileName,lineNumber:48,columnNumber:10}});};var NewScreen=function(_React$Component){(0,_inherits2.default)(NewScreen,_React$Component);var _super=_createSuper(NewScreen);function NewScreen(props){(0,_classCallCheck2.default)(this,NewScreen);return _super.call(this,props);}(0,_createClass2.default)(NewScreen,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var navigation=this.props.navigation;console.log('did mount');this.didFocusListener=navigation.addListener('focus',function(){console.log('did focus');_this2.props.getNewData();});}},{key:"componentWillUnmount",value:function componentWillUnmount(){console.log('remove focus',this.didFocusListener);this.didFocusListener.remove();}},{key:"render",value:function render(){var data=(0,_extends2.default)({},this.props.data);var isLoading=this.props.isLoading;return _react.default.createElement(_reactNative.View,{style:styles.container,__self:this,__source:{fileName:_jsxFileName,lineNumber:73,columnNumber:7}},isLoading?_react.default.createElement(_indicator.default,{__self:this,__source:{fileName:_jsxFileName,lineNumber:75,columnNumber:11}}):_react.default.createElement(_reactNative.FlatList,{data:data,renderItem:renderCategoryItem,keyExtractor:function keyExtractor(item){return item.id;},__self:this,__source:{fileName:_jsxFileName,lineNumber:77,columnNumber:11}}));}}]);return NewScreen;}(_react.default.Component);exports.NewScreen=NewScreen;var _default=(0,_reactRedux.connect)(function(state){return{data:state.dataReducer.data,isLoading:state.dataReducer.isLoading};},function(dispatch){return{getNewData:function getNewData(){return dispatch({type:_actionTypes.GET_NEW_DATA});}};})(NewScreen);exports.default=_default;var styles=_reactNative.StyleSheet.create({container:{flex:1,flexDirection:'row',alignItems:'flex-start',justifyContent:'center',backgroundColor:'#fff'},vStack:{flex:1,flexDirection:'column',alignItems:'flex-start'},hStack:{flex:1,flexDirection:'row',alignItems:'flex-start'},item:{color:'black',padding:20,marginVertical:8,marginHorizontal:16},border:{borderStyle:'solid',borderWidth:0.5,borderRadius:8,borderColor:_theme.primaryColor},image:{height:100,width:100}});